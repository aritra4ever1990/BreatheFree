<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BreatheFree â€“ Quit Smoking</title>

  <!-- App Icon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ«</text></svg>">

  <!-- CSS -->
  <link rel="stylesheet" href="./css/style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* ---------- Inline polish & animations ---------- */
    body {
      background: linear-gradient(135deg, #e0f7fa, #fffde7);
      font-family: "Segoe UI", system-ui, sans-serif;
      animation: fadeIn 0.8s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .banner {
      background: linear-gradient(90deg, #00c8c8, #00e5ff);
      color: white;
      padding: 14px;
      text-align: center;
      font-size: 20px;
      font-weight: 600;
      border-radius: 0 0 16px 16px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    }

    .actions {
      display: flex;
      gap: 14px;
      margin: 20px 0;
    }

    .btn {
      flex: 1;
      padding: 18px;
      font-size: 20px;
      border-radius: 18px;
      border: none;
      cursor: pointer;
      font-weight: 700;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 22px rgba(0,0,0,0.15);
    }

    .smoke { background: linear-gradient(135deg, #ff5252, #ff1744); color: #fff; }
    .craving { background: linear-gradient(135deg, #ffb300, #ff8f00); color: #fff; }
    .stop { background: linear-gradient(135deg, #9e9e9e, #616161); color: #fff; }

    .cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
      margin: 20px 0;
    }

    .card {
      padding: 20px;
      border-radius: 20px;
      text-align: center;
      background: white;
      box-shadow: 0 10px 22px rgba(0,0,0,0.1);
      animation: pop 0.4s ease;
    }

    @keyframes pop {
      from { transform: scale(0.96); }
      to { transform: scale(1); }
    }

    .card h1 {
      font-size: 34px;
      margin: 0;
    }

    .message, .ai-box, .danger-box {
      margin-top: 14px;
      padding: 14px;
      border-radius: 14px;
      background: #ffffffcc;
      font-weight: 600;
    }

    .heatmap {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 6px;
      margin-top: 10px;
    }

    .heat-cell {
      height: 30px;
      border-radius: 6px;
      background: #00c8c8;
      color: white;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    canvas {
      margin-top: 20px;
      background: white;
      border-radius: 20px;
      padding: 10px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.1);
    }
  </style>
</head>

<body>

  <!-- ğŸ”· Top Animated Banner -->
  <div class="banner">
    ğŸ« BreatheFree â€¢ <span id="currentTime"></span>
  </div>

  <main style="padding: 16px; max-width: 520px; margin: auto;">

    <!-- ğŸ”˜ Action Buttons -->
    <div class="actions">
      <button id="smokeBtn" class="btn smoke" onclick="addSmoke()">ğŸš¬ I Smoked</button>
      <button id="craveBtn" class="btn craving" onclick="startCraving()">ğŸ˜– Craving</button>
    </div>

    <div class="actions">
      <button id="stopCraveBtn" class="btn stop" onclick="stopCraving()">â¹ Stop Craving</button>
    </div>

    <!-- ğŸ“Š Stats Cards -->
    <div class="cards">
      <div class="card">
        <h1 id="smokedToday">0</h1>
        <p>ğŸš« Smoked Today</p>
      </div>

      <div class="card">
        <h1 id="wallet">â‚¹0</h1>
        <p>ğŸ’° Wallet</p>
      </div>

      <div class="card">
        <h1 id="awards">â‚¹0</h1>
        <p>ğŸ† Awards</p>
      </div>

      <div class="card">
        <h1 id="streak">0</h1>
        <p>ğŸ”¥ Streak</p>
      </div>
    </div>

    <!-- ğŸ§  Messages -->
    <div id="message" class="message"></div>
    <div id="aiInsight" class="ai-box"></div>
    <div id="dangerHours" class="danger-box"></div>

    <!-- ğŸ“Š Chart -->
    <div class="actions">
      <button class="btn" onclick="toggleChart('hourly')">â± Hourly</button>
      <button class="btn" onclick="toggleChart('daily')">ğŸ“… Daily</button>
    </div>

    <canvas id="progressChart" height="160"></canvas>

    <!-- ğŸŒ¡ï¸ Heatmap -->
    <h3>ğŸŒ¡ï¸ Hourly Heatmap</h3>
    <div id="heatmap" class="heatmap"></div>

    <!-- ğŸ“ Export -->
    <div class="actions">
      <button class="btn" onclick="exportCSV()">â¬‡ Export CSV</button>
    </div>

  </main>

  <!-- â± Live Time -->
  <script>
    setInterval(() => {
      document.getElementById("currentTime").innerText =
        new Date().toLocaleString();
    }, 1000);
  </script>

  <!-- App Logic -->
  <script src="app.js"></script>

</body>
</html>
