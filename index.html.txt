<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>BreatheFree</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json" />
  <meta name="theme-color" content="#e8f7f1" />
  <link rel="icon" href="./favicon.svg" />

  <!-- Styles -->
  <link rel="stylesheet" href="./css/style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <header class="app-header">
    <h1>BreatheFree</h1>
    <p id="currentDate"></p>
  </header>

  <!-- Stats -->
  <section class="stats">
    <div class="card">
      <span>ğŸ”¥ Streak</span>
      <strong id="streakCount">0</strong>
      <small>days</small>
    </div>

    <div class="card">
      <span>ğŸš­ Smoked</span>
      <strong id="smokedToday">0</strong>
      <small>today</small>
    </div>

    <div class="card">
      <span>ğŸ’° Wallet</span>
      <strong id="walletAmount">â‚¹0</strong>
    </div>

    <div class="card">
      <span>ğŸ† Awards</span>
      <strong id="awardAmount">â‚¹0</strong>
    </div>
  </section>

  <!-- Actions -->
  <section class="actions">
    <button id="smokeBtn" class="btn danger">I Smoked ğŸš¬</button>
    <button id="cravingBtn" class="btn calm">Craving ğŸ˜£</button>
  </section>

  <!-- Craving Timer -->
  <section id="cravingSection" class="hidden">
    <p id="cravingTimer">â³ Craving ends in 05:00</p>
  </section>

  <!-- AI Reflection -->
  <section class="card big">
    <h3>ğŸ¤– AI Reflection</h3>
    <p id="aiMessage">Youâ€™re taking control. Keep going ğŸ’ª</p>
  </section>

  <!-- Progress -->
  <section class="card big">
    <h3>ğŸ“ˆ Progress</h3>
    <canvas id="progressChart"></canvas>
  </section>

  <!-- Spend Analysis -->
  <section class="card big">
    <h3>ğŸ’¸ Spend Analysis</h3>
    <canvas id="spendChart"></canvas>
  </section>

  <!-- Install PWA -->
  <button id="installBtn" class="btn install hidden">
    ğŸ“² Install App
  </button>

  <!-- Scripts (ORDER IS IMPORTANT) -->
  <script src="./js/storage.js"></script>
  <script src="./js/ai.js"></script>
  <script src="./js/program.js"></script>
  <script src="./js/app.js"></script>

  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js');
    }

    // Current Date
    document.getElementById("currentDate").innerText =
      new Date().toLocaleString();
  </script>

</body>
</html>
